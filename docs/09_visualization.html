<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Advanced Time-Series and Spatial Analysis in Agriculture with R - 9&nbsp; Interactive Visualization and Applications</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./10_analytics.html" rel="next">
<link href="./08_computing.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./09_visualization.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Interactive Visualization and Applications</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Time-Series and Spatial Analysis in Agriculture with R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Advanced R Programming for Time-Series Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Multivariate Time-Series Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_non_linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Non-linear Time-Series Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Machine Learning for Time-Series Prediction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_integrating.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Integrating Spatio-Temporal Data in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Advanced Forecasting Techniques</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_computing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">High-Performance Computing with R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_visualization.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Interactive Visualization and Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_analytics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Applying Advanced Analytics in Real-World Agriculture</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Future Trends and Innovations in Agricultural Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Conclusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Interactive Visualization and Applications</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level4" data-number="9.0.0.1">
<h4 data-number="9.0.0.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">9.0.0.1</span> Introduction</h4>
<p>In the realm of agricultural data analysis, the ability to visualize data effectively is crucial for uncovering insights, making informed decisions, and communicating findings to a broader audience. While static visualizations provide a snapshot of data, interactive visualizations enable users to explore data dynamically, uncover patterns, and gain deeper insights through real-time interaction.</p>
<p>This chapter focuses on the power of interactive visualization in agriculture, utilizing R to create compelling and user-friendly visual tools that facilitate data exploration and decision-making. Interactive visualizations can transform complex datasets into intuitive, actionable insights, making them invaluable for farmers, researchers, and policymakers alike.</p>
<p>We will begin by exploring advanced visualization techniques, moving beyond basic charts and graphs to more sophisticated representations tailored to agricultural data. This includes dynamic time-series plots that allow users to adjust parameters such as time frames and variables, and spatial data visualizations that reveal geographical patterns and interactions.</p>
<p>Next, we will dive into building interactive dashboards using Shiny, a web application framework for R. Shiny enables the creation of interactive web applications that can be deployed locally or online, providing users with a seamless interface to interact with their data. We will cover the principles of dashboard design, best practices for user experience, and how to incorporate user input to allow for dynamic data manipulation and visualization.</p>
<p>We will also discuss the creation of interactive maps using the Leaflet package, which allows for detailed and interactive mapping of spatial data. You will learn how to embed these maps into Shiny applications to create powerful spatial decision support tools.</p>
<p>Throughout the chapter, practical case studies will illustrate the application of interactive visualizations in real-world agricultural scenarios. These case studies include:</p>
<ol type="1">
<li><strong>Weather Data Monitoring</strong>: Developing a dashboard that integrates real-time weather data with historical trends, aiding farmers in making timely decisions about irrigation and pest control.</li>
<li><strong>Crop Yield Forecasting</strong>: Creating a dashboard that combines soil health indicators, weather forecasts, and crop models to predict yields and suggest optimal harvest times.</li>
<li><strong>Pest Infestation Tracking</strong>: Visualizing the spread of a pest infestation over time and space, helping to identify patterns and predict future outbreaks.</li>
</ol>
<p>We will also cover advanced visualization techniques using Plotly for enhanced interactivity and discuss best practices for data storytelling, ensuring that visualizations are not only informative but also engaging and accessible to a wide audience.</p>
<p>By the end of this chapter, you will be equipped with the skills to create dynamic and interactive visualizations that transform complex agricultural data into actionable insights. You will be able to build comprehensive dashboards and maps that support data-driven decision-making, enhancing your ability to communicate findings effectively and engage stakeholders.</p>
</section>
<section id="section-1-advanced-visualization-techniques" class="level4" data-number="9.0.0.2">
<h4 data-number="9.0.0.2" class="anchored" data-anchor-id="section-1-advanced-visualization-techniques"><span class="header-section-number">9.0.0.2</span> Section 1: Advanced Visualization Techniques</h4>
<ul>
<li><strong>Dynamic Time-Series Plots</strong>: Techniques for creating time-series plots that allow users to adjust parameters such as time frames and variables dynamically.</li>
<li><strong>Spatial Data Visualization</strong>: Advanced methods for visualizing geographical data layers and spatial interactions in R using packages like <code>ggplot2</code>, <code>leaflet</code>, and <code>tmap</code>.</li>
</ul>
</section>
<section id="section-2-building-interactive-dashboards" class="level4" data-number="9.0.0.3">
<h4 data-number="9.0.0.3" class="anchored" data-anchor-id="section-2-building-interactive-dashboards"><span class="header-section-number">9.0.0.3</span> Section 2: Building Interactive Dashboards</h4>
<ul>
<li><strong>Using Shiny</strong>: Step-by-step guide to building interactive web applications with Shiny, specifically tailored to agricultural data.</li>
<li><strong>Dashboard Design Principles</strong>: Best practices for designing user-friendly dashboards that provide meaningful insights at a glance.</li>
<li><strong>Incorporating User Input</strong>: Methods to allow users to interact with data directly, such as selecting fields, adjusting parameters, and running simulations.</li>
</ul>
</section>
<section id="section-3-case-studies-in-dashboard-applications" class="level4" data-number="9.0.0.4">
<h4 data-number="9.0.0.4" class="anchored" data-anchor-id="section-3-case-studies-in-dashboard-applications"><span class="header-section-number">9.0.0.4</span> Section 3: Case Studies in Dashboard Applications</h4>
<ul>
<li><strong>Case Study 1: Weather Data Monitoring</strong>: Developing a dashboard that integrates real-time weather data with historical trends to assist farmers in making immediate decisions about irrigation and pest control.</li>
<li><strong>Case Study 2: Crop Yield Forecasting</strong>: A dashboard that combines soil health indicators, weather forecasts, and crop models to predict yields and suggest optimal harvest times.</li>
</ul>
</section>
<section id="section-4-interactive-maps-for-spatial-decision-support" class="level4" data-number="9.0.0.5">
<h4 data-number="9.0.0.5" class="anchored" data-anchor-id="section-4-interactive-maps-for-spatial-decision-support"><span class="header-section-number">9.0.0.5</span> Section 4: Interactive Maps for Spatial Decision Support</h4>
<ul>
<li><strong>Creating Interactive Maps</strong>: Detailed instructions for using the <code>leaflet</code> package to create maps that users can interact with, including zooming, selecting, and displaying additional data layers.</li>
<li><strong>Integrating Spatial Analysis Results</strong>: How to embed the results of spatial analyses directly into interactive maps to provide spatial decision support.</li>
</ul>
</section>
<section id="section-5-visualization-of-spatio-temporal-data" class="level4" data-number="9.0.0.6">
<h4 data-number="9.0.0.6" class="anchored" data-anchor-id="section-5-visualization-of-spatio-temporal-data"><span class="header-section-number">9.0.0.6</span> Section 5: Visualization of Spatio-Temporal Data</h4>
<ul>
<li><strong>Animating Spatio-Temporal Changes</strong>: Techniques for creating animations that show changes over time and space, using packages like <code>gganimate</code>.</li>
<li><strong>Case Study 3: Pest Infestation Tracking</strong>: Developing a visualization that illustrates the spread of a pest infestation over time across a geographic area, helping to identify patterns and predict future outbreaks.</li>
</ul>
</section>
<section id="section-6-utilizing-plotly-for-enhanced-interactivity" class="level4" data-number="9.0.0.7">
<h4 data-number="9.0.0.7" class="anchored" data-anchor-id="section-6-utilizing-plotly-for-enhanced-interactivity"><span class="header-section-number">9.0.0.7</span> Section 6: Utilizing Plotly for Enhanced Interactivity</h4>
<ul>
<li><strong>Advanced Plotly Features</strong>: Detailed exploration of <code>plotly</code> capabilities in R for creating interactive plots that can be integrated into web applications or reports.</li>
<li><strong>Integrating Plotly with Shiny</strong>: How to enhance Shiny applications with interactive visualizations created with Plotly, including cross-filtering and drill-down capabilities.</li>
</ul>
</section>
<section id="section-7-best-practices-for-visualization-in-agriculture" class="level4" data-number="9.0.0.8">
<h4 data-number="9.0.0.8" class="anchored" data-anchor-id="section-7-best-practices-for-visualization-in-agriculture"><span class="header-section-number">9.0.0.8</span> Section 7: Best Practices for Visualization in Agriculture</h4>
<ul>
<li><strong>Data Storytelling</strong>: Techniques for effectively communicating complex data insights through visualizations, focusing on clarity, context, and audience.</li>
<li><strong>Accessibility and Usability</strong>: Ensuring that visualizations are accessible to all users, including those with disabilities, and are usable across various devices and screen sizes.</li>
</ul>
</section>
<section id="section-8-deploying-visualization-solutions" class="level4" data-number="9.0.0.9">
<h4 data-number="9.0.0.9" class="anchored" data-anchor-id="section-8-deploying-visualization-solutions"><span class="header-section-number">9.0.0.9</span> Section 8: Deploying Visualization Solutions</h4>
<ul>
<li><strong>Web Integration</strong>: Methods for integrating R visualizations into existing agricultural management systems or websites.</li>
<li><strong>Mobile Optimization</strong>: Ensuring that interactive applications and visualizations are optimized for mobile devices, crucial for farmers and agronomists in the field.</li>
</ul>
</section>
<section id="summary" class="level4" data-number="9.0.0.10">
<h4 data-number="9.0.0.10" class="anchored" data-anchor-id="summary"><span class="header-section-number">9.0.0.10</span> Summary</h4>
<ul>
<li>Recap of the visualization techniques covered, highlighting how they can be applied to real-world agricultural challenges.</li>
<li>Discussion on the future trends in data visualization in agriculture, including potential technological advancements and new tools.</li>
</ul>
</section>
<section id="exercises" class="level4" data-number="9.0.0.11">
<h4 data-number="9.0.0.11" class="anchored" data-anchor-id="exercises"><span class="header-section-number">9.0.0.11</span> Exercises</h4>
<ul>
<li>Hands-on exercises to practice creating dynamic and interactive visualizations using the discussed R packages.</li>
<li>Challenges that encourage readers to develop comprehensive visualization applications based on real agricultural datasets.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./08_computing.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">High-Performance Computing with R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./10_analytics.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Applying Advanced Analytics in Real-World Agriculture</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>